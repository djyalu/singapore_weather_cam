import{c as n,r as w,j as s,P as a,R as m,B as _,C as k}from"./index-30c7ff2b.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],A=n("activity",$);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],C=n("cloud-rain",T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],f=n("cloud",R);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],M=n("droplets",q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N=n("eye",I);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],S=n("map-pin",W);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],v=n("sun",L);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],D=n("thermometer",z),p=w.memo(({location:e,getWeatherIcon:r})=>{var t;return s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(S,{className:"w-5 h-5 text-gray-600","aria-hidden":"true"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl text-gray-900",children:e.displayName||e.name}),e.description&&s.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]}),s.jsx("div",{className:"text-right","aria-label":"Weather condition",children:r((t=e.weather)==null?void 0:t.condition)})]})});p.propTypes={location:a.shape({name:a.string.isRequired,displayName:a.string,description:a.string,weather:a.shape({condition:a.string})}).isRequired,getWeatherIcon:a.func.isRequired};p.displayName="WeatherCardHeader";const x=m.memo(({location:e,showPriority:r=!0,showLive:t=!0})=>s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r&&e.priority==="primary"&&s.jsx("div",{className:"bg-blue-500 text-white text-xs px-3 py-1 rounded-full inline-block animate-pulse",role:"status","aria-label":"Primary location near Bukit Timah Nature Reserve",children:"🏫 Bukit Timah Center"}),t&&s.jsx("div",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full inline-block animate-pulse",role:"status","aria-label":"Live data feed",children:"🔴 LIVE"}),e.error&&s.jsx("div",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full inline-block",role:"alert","aria-label":"Data collection error",children:"⚠️ LIMITED DATA"})]}));x.propTypes={location:a.shape({priority:a.string,error:a.string}).isRequired,showPriority:a.bool,showLive:a.bool};x.displayName="WeatherCardBadges";const b=m.memo(({location:e,getConfidenceColor:r})=>{var i,l,u,c,o;const t=(d,h="")=>d==null?"--":`${d}${h}`;return s.jsxs("div",{className:"bg-white bg-opacity-80 rounded-xl p-4 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"font-bold text-lg text-gray-900",children:((i=e.weather)==null?void 0:i.description)||"Weather data unavailable"}),((l=e.analysis)==null?void 0:l.confidence)&&s.jsxs("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${r(e.analysis.confidence)}`,role:"status","aria-label":`Analysis confidence: ${e.analysis.confidence}%`,children:[e.analysis.confidence,"% confidence"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",role:"group","aria-label":"Temperature",children:[s.jsx(D,{className:"w-4 h-4 text-red-500","aria-hidden":"true"}),s.jsx("span",{className:"font-medium",children:t((u=e.weather)==null?void 0:u.temperature,"°C")})]}),s.jsxs("div",{className:"flex items-center space-x-2",role:"group","aria-label":"Humidity",children:[s.jsx(M,{className:"w-4 h-4 text-blue-500","aria-hidden":"true"}),s.jsx("span",{className:"font-medium",children:t((c=e.weather)==null?void 0:c.humidity,"%")})]}),s.jsxs("div",{className:"flex items-center space-x-2",role:"group","aria-label":"Visibility",children:[s.jsx(N,{className:"w-4 h-4 text-purple-500","aria-hidden":"true"}),s.jsx("span",{className:"font-medium",children:t((o=e.weather)==null?void 0:o.visibility)})]})]})]})});b.propTypes={location:a.shape({weather:a.shape({description:a.string,temperature:a.oneOfType([a.string,a.number]),humidity:a.oneOfType([a.string,a.number]),visibility:a.string}),analysis:a.shape({confidence:a.number})}).isRequired,getConfidenceColor:a.func.isRequired};b.displayName="WeatherInfoSection";const g=m.memo(({location:e})=>{var t;if(!e.ai_analysis)return null;const r=[{key:"weather_condition",label:"Weather",value:e.ai_analysis.weather_condition},{key:"nature_condition",label:"Nature State",value:e.ai_analysis.nature_condition},{key:"traffic_level",label:"Traffic",value:e.ai_analysis.traffic_level},{key:"urban_activity",label:"Urban Activity",value:e.ai_analysis.urban_activity},{key:"residential_area",label:"Residential",value:e.ai_analysis.residential_area},{key:"visibility",label:"Visibility",value:e.ai_analysis.visibility},{key:"air_quality",label:"Air Quality",value:e.ai_analysis.air_quality}].filter(i=>i.value);return r.length===0?null:s.jsxs("div",{className:"bg-white bg-opacity-90 rounded-xl p-4 backdrop-blur-sm border-l-4 border-blue-500",children:[s.jsxs("h4",{className:"font-semibold text-sm text-gray-700 mb-2 flex items-center",children:[s.jsx(_,{className:"w-4 h-4 mr-2 text-blue-500","aria-hidden":"true"}),"🤖 AI Analysis"]}),s.jsx("div",{className:"space-y-2 text-xs text-gray-700",children:r.map(i=>s.jsxs("div",{className:"flex",children:[s.jsxs("span",{className:"font-medium min-w-[80px]",children:[i.label,":"]}),s.jsx("span",{className:"flex-1",children:i.value})]},i.key))}),((t=e.analysis)==null?void 0:t.observations)&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Observations:"}),s.jsx("p",{className:"mt-1 leading-relaxed",children:e.analysis.observations})]})})]})});g.propTypes={location:a.shape({ai_analysis:a.shape({weather_condition:a.string,nature_condition:a.string,traffic_level:a.string,urban_activity:a.string,residential_area:a.string,visibility:a.string,air_quality:a.string}),analysis:a.shape({observations:a.string})}).isRequired};g.displayName="AIAnalysisSection";const O=e=>{switch(e){case"sunny":return s.jsx(v,{className:"w-8 h-8 text-yellow-500","aria-label":"Sunny"});case"partly_cloudy":return s.jsx(f,{className:"w-8 h-8 text-blue-400","aria-label":"Partly cloudy"});case"cloudy":return s.jsx(f,{className:"w-8 h-8 text-gray-500","aria-label":"Cloudy"});case"light_rain":return s.jsx(C,{className:"w-8 h-8 text-blue-600","aria-label":"Light rain"});default:return s.jsx(v,{className:"w-8 h-8 text-yellow-500","aria-label":"Clear"})}},P=e=>{switch(e){case"sunny":return"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200 shadow-yellow-100";case"partly_cloudy":return"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 shadow-blue-100";case"cloudy":return"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-200 shadow-gray-100";case"light_rain":return"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-300 shadow-blue-100";default:return"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200 shadow-yellow-100"}},B=e=>e>=95?"bg-green-100 text-green-800":e>=90?"bg-blue-100 text-blue-800":e>=85?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",y=e=>{switch(e){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"moderate":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=e=>e==null?"--":`${e}°C`,V=e=>{if(!e)return null;try{return new Date(e).toLocaleString("en-SG",{timeZone:"Asia/Singapore",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return console.warn("Invalid timestamp format:",e),"Invalid time"}},H=e=>{var t,i,l;const r=[];return(e.displayName||e.name)&&r.push(`Location: ${e.displayName||e.name}`),(t=e.weather)!=null&&t.description&&r.push(`Weather: ${e.weather.description}`),(i=e.weather)!=null&&i.temperature&&r.push(`Temperature: ${E(e.weather.temperature)}`),(l=e.analysis)!=null&&l.confidence&&r.push(`Analysis confidence: ${e.analysis.confidence}%`),r.join(", ")},j=m.memo(({location:e,animationDelay:r=0,showActivities:t=!0,showImage:i=!0})=>{var c,o,d;if(!e)return null;const l=((c=e.weather)==null?void 0:c.condition)||"sunny",u=H(e);return s.jsxs("article",{className:`rounded-2xl border-2 shadow-xl p-6 transition-all duration-500 
                  hover:scale-105 hover:shadow-2xl ${P(l)} 
                  animate-fadeInUp`,style:{animationDelay:`${r}ms`},role:"region","aria-label":u,children:[s.jsx(p,{location:e,getWeatherIcon:O}),s.jsx(x,{location:e}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(b,{location:e,getConfidenceColor:B}),s.jsx(g,{location:e}),((o=e.analysis)==null?void 0:o.observations)&&!e.ai_analysis&&s.jsxs("div",{className:"bg-white bg-opacity-90 rounded-xl p-4 backdrop-blur-sm border-l-4 border-green-500",children:[s.jsxs("h4",{className:"font-semibold text-sm text-gray-700 mb-2 flex items-center",children:[s.jsx(N,{className:"w-4 h-4 mr-2 text-green-500","aria-hidden":"true"}),"📋 Real-time Observations"]}),s.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:e.analysis.observations})]}),t&&e.activities&&s.jsxs("div",{className:"bg-white bg-opacity-90 rounded-xl p-3 backdrop-blur-sm",children:[s.jsxs("h4",{className:"font-semibold text-sm text-gray-700 mb-2 flex items-center",children:[s.jsx(A,{className:"w-4 h-4 mr-2 text-orange-500","aria-hidden":"true"}),"🎯 Activity Suitability"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[e.activities.outdoor_activities&&s.jsx("div",{className:"text-center",children:s.jsx("div",{className:`px-2 py-1 rounded ${y(e.activities.outdoor_activities)}`,role:"status","aria-label":`Outdoor activities: ${e.activities.outdoor_activities}`,children:"Outdoor"})}),e.activities.photography&&s.jsx("div",{className:"text-center",children:s.jsx("div",{className:`px-2 py-1 rounded ${y(e.activities.photography)}`,role:"status","aria-label":`Photography conditions: ${e.activities.photography}`,children:"Photo"})}),e.activities.tourism&&s.jsx("div",{className:"text-center",children:s.jsx("div",{className:`px-2 py-1 rounded ${y(e.activities.tourism)}`,role:"status","aria-label":`Tourism conditions: ${e.activities.tourism}`,children:"Tourism"})})]})]}),i&&((d=e.file_info)==null?void 0:d.url)&&s.jsxs("div",{className:"bg-white bg-opacity-90 rounded-xl p-3 backdrop-blur-sm",children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"📷 Live View"}),s.jsx("img",{src:e.file_info.url,alt:`Live view of ${e.displayName||e.name}`,className:"w-full h-32 object-cover rounded-lg transition-opacity duration-300 hover:opacity-90",loading:"lazy",onError:h=>{h.target.style.display="none"}})]}),s.jsxs("footer",{className:"flex justify-between items-center text-xs text-gray-600 pt-2 border-t border-gray-200",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(k,{className:"w-3 h-3","aria-hidden":"true"}),s.jsx("time",{dateTime:e.capture_time,children:e.capture_time?`Analysis: ${V(e.capture_time)}`:"Analysis time unavailable"})]}),s.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded-full animate-pulse",role:"status","aria-label":"Real-time data",children:"Real-time"})]})]})]})});j.propTypes={location:a.shape({id:a.string.isRequired,name:a.string.isRequired,displayName:a.string,description:a.string,coordinates:a.shape({lat:a.number.isRequired,lng:a.number.isRequired}),capture_time:a.string,status:a.string,priority:a.string,error:a.string,file_info:a.shape({url:a.string,size:a.oneOfType([a.string,a.number])}),ai_analysis:a.shape({weather_condition:a.string,nature_condition:a.string,traffic_level:a.string,urban_activity:a.string,residential_area:a.string,visibility:a.string,air_quality:a.string}),activities:a.shape({outdoor_activities:a.string,photography:a.string,tourism:a.string}),analysis:a.shape({confidence:a.number,observations:a.string}),weather:a.shape({condition:a.string,description:a.string,temperature:a.oneOfType([a.string,a.number]),humidity:a.oneOfType([a.string,a.number]),visibility:a.string})}).isRequired,animationDelay:a.number,showActivities:a.bool,showImage:a.bool};j.displayName="WeatherAnalysisCardRefactored";export{j as default};
//# sourceMappingURL=WeatherAnalysisCardRefactored-4a418015.js.map
