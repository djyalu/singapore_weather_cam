{"version":3,"file":"WebcamModal-98639094.js","sources":["../../src/components/webcam/WebcamModal.jsx"],"sourcesContent":["import { useEffect, useState, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nconst WebcamModal = ({\n  item,\n  items = [],\n  currentIndex = 0,\n  onClose,\n  onNavigate,\n  type = 'auto', // 'webcam', 'traffic', 'auto'\n}) => {\n  const [isZoomed, setIsZoomed] = useState(false);\n  const [imageLoading, setImageLoading] = useState(true);\n  const [imageError, setImageError] = useState(false);\n  const [touchDevice, setTouchDevice] = useState(false);\n  const modalRef = useRef(null);\n  const imageRef = useRef(null);\n\n  // Detect touch device\n  useEffect(() => {\n    const checkTouchDevice = () => {\n      setTouchDevice(\n        'ontouchstart' in window ||\n        navigator.maxTouchPoints > 0 ||\n        navigator.msMaxTouchPoints > 0,\n      );\n    };\n    checkTouchDevice();\n  }, []);\n\n  // Auto-detect data type based on item structure\n  const getItemType = (item) => {\n    if (type !== 'auto') {return type;}\n    if (item?.image?.url) {return 'traffic';}\n    if (item?.file_info || item?.imageUrl) {return 'webcam';}\n    return 'webcam';\n  };\n\n  const itemType = getItemType(item);\n\n  // Normalize data structure for different types\n  const normalizeItem = (item, type) => {\n    if (type === 'traffic') {\n      return {\n        id: item.id,\n        name: item.name,\n        location: item.area,\n        imageUrl: `${item.image.url}?t=${Date.now()}`,\n        metadata: {\n          id: item.id,\n          resolution: `${item.image.width}×${item.image.height}`,\n          area: item.area,\n          type: 'Traffic Camera',\n        },\n        lastUpdated: new Date().toISOString(),\n      };\n    } else {\n      // Webcam format\n      const basePath = import.meta.env.BASE_URL || '/';\n      const imageUrl = item.imageUrl ||\n                      item.file_info?.url ||\n                      item.file_info?.source_url ||\n                      (item.file_info?.path ? `${basePath}${item.file_info.path}` : null) ||\n                      `${basePath}images/placeholder.jpg`;\n\n      return {\n        id: item.id,\n        name: item.name,\n        location: item.location,\n        imageUrl,\n        coordinates: item.coordinates,\n        analysis: item.ai_analysis || item.analysis,\n        metadata: {\n          type: item.type || 'Webcam',\n          captureTime: item.capture_time,\n          ...(item.file_info && { fileInfo: item.file_info }),\n        },\n        lastUpdated: item.capture_time || item.lastUpdated,\n      };\n    }\n  };\n\n  const normalizedItem = normalizeItem(item, itemType);\n  const hasNavigation = items.length > 1;\n\n  // Focus management\n  useEffect(() => {\n    if (modalRef.current) {\n      modalRef.current.focus();\n    }\n  }, []);\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      switch (e.key) {\n        case 'Escape':\n          onClose();\n          break;\n        case 'ArrowLeft':\n          if (hasNavigation && currentIndex > 0) {\n            onNavigate?.(currentIndex - 1);\n          }\n          break;\n        case 'ArrowRight':\n          if (hasNavigation && currentIndex < items.length - 1) {\n            onNavigate?.(currentIndex + 1);\n          }\n          break;\n        case 'z':\n        case 'Z':\n          if (!touchDevice) {\n            setIsZoomed(prev => !prev);\n          }\n          break;\n        default:\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [onClose, onNavigate, hasNavigation, currentIndex, items.length, touchDevice]);\n\n  const handleBackdropClick = useCallback((e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  }, [onClose]);\n\n  const handleImageLoad = useCallback(() => {\n    setImageLoading(false);\n    setImageError(false);\n  }, []);\n\n  const handleImageError = useCallback(() => {\n    setImageLoading(false);\n    setImageError(true);\n  }, []);\n\n  const handleImageClick = useCallback(() => {\n    if (!touchDevice) {\n      setIsZoomed(prev => !prev);\n    }\n  }, [touchDevice]);\n\n  // Touch gestures for zoom\n  const handleTouchStart = useCallback((e) => {\n    if (e.touches.length === 2) {\n      setIsZoomed(true);\n    }\n  }, []);\n\n  return (\n    <div\n      ref={modalRef}\n      className=\"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-2 sm:p-4\"\n      onClick={handleBackdropClick}\n      tabIndex={-1}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"modal-title\"\n      style={{ WebkitTapHighlightColor: 'transparent' }}\n    >\n      <div className=\"bg-white rounded-lg max-w-6xl w-full max-h-[95vh] overflow-hidden animate-fade-in shadow-2xl\">\n        {/* Header */}\n        <div className=\"p-3 sm:p-4 border-b flex items-center justify-between bg-gray-50\">\n          <div className=\"flex-1 min-w-0\">\n            <h2 id=\"modal-title\" className=\"text-lg sm:text-xl font-semibold truncate\">\n              {normalizedItem.name}\n            </h2>\n            <p className=\"text-sm text-gray-600 truncate\">\n              📍 {normalizedItem.location}\n            </p>\n          </div>\n\n          {/* Navigation controls */}\n          {hasNavigation && (\n            <div className=\"flex items-center gap-2 mx-4\">\n              <button\n                onClick={() => onNavigate?.(currentIndex - 1)}\n                disabled={currentIndex === 0}\n                className=\"p-2 rounded-full bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                aria-label=\"Previous image\"\n              >\n                ←\n              </button>\n              <span className=\"text-sm text-gray-600 min-w-fit\">\n                {currentIndex + 1} / {items.length}\n              </span>\n              <button\n                onClick={() => onNavigate?.(currentIndex + 1)}\n                disabled={currentIndex === items.length - 1}\n                className=\"p-2 rounded-full bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                aria-label=\"Next image\"\n              >\n                →\n              </button>\n            </div>\n          )}\n\n          <button\n            onClick={onClose}\n            className=\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-full transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center\"\n            aria-label=\"Close modal\"\n          >\n            ✕\n          </button>\n        </div>\n\n        {/* Image container */}\n        <div className=\"relative bg-gray-100\">\n          {/* Loading state */}\n          {imageLoading && (\n            <div className=\"absolute inset-0 flex items-center justify-center z-10\">\n              <div className=\"flex space-x-1\">\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0ms' }}></div>\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '150ms' }}></div>\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '300ms' }}></div>\n              </div>\n            </div>\n          )}\n\n          {/* Main image */}\n          <div\n            className={`\n              overflow-auto max-h-[60vh] sm:max-h-[70vh]\n              ${isZoomed ? 'cursor-zoom-out' : 'cursor-zoom-in'}\n              ${!touchDevice ? 'hover:opacity-90' : ''}\n            `}\n            onTouchStart={touchDevice ? handleTouchStart : undefined}\n          >\n            <img\n              ref={imageRef}\n              src={normalizedItem.imageUrl}\n              alt={`${normalizedItem.name} view`}\n              className={`\n                w-full transition-all duration-300\n                ${isZoomed ? 'scale-150 sm:scale-200' : 'scale-100'}\n                ${!touchDevice ? 'hover:scale-105' : ''}\n              `}\n              style={{\n                transformOrigin: 'center center',\n                touchAction: touchDevice ? 'pinch-zoom' : 'none',\n              }}\n              loading=\"lazy\"\n              onLoad={handleImageLoad}\n              onError={handleImageError}\n              onClick={handleImageClick}\n              draggable={false}\n            />\n          </div>\n\n          {/* Error state */}\n          {imageError && (\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 text-gray-500\">\n              <div className=\"text-4xl mb-2\">📷</div>\n              <div className=\"text-center\">\n                <p>이미지를 불러올 수 없습니다</p>\n                <p className=\"text-sm mt-1\">Image failed to load</p>\n              </div>\n            </div>\n          )}\n\n          {/* Zoom hint */}\n          {!touchDevice && !isZoomed && (\n            <div className=\"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded\">\n              Click to zoom (Z)\n            </div>\n          )}\n\n          {/* Touch hint */}\n          {touchDevice && (\n            <div className=\"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded\">\n              Pinch to zoom\n            </div>\n          )}\n        </div>\n\n        {/* Content */}\n        <div className=\"p-3 sm:p-4 overflow-y-auto max-h-[25vh] space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* Location & Metadata */}\n            <div>\n              <h3 className=\"font-semibold mb-2\">위치 정보 / Location Details</h3>\n              <p className=\"text-gray-600 mb-2\">{normalizedItem.location}</p>\n\n              {normalizedItem.coordinates && (\n                <p className=\"text-sm text-gray-500\">\n                  좌표: {normalizedItem.coordinates.lat}, {normalizedItem.coordinates.lng}\n                </p>\n              )}\n\n              <div className=\"mt-3 space-y-1\">\n                <div className=\"flex items-center gap-2 text-sm\">\n                  <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">\n                    {normalizedItem.metadata.type}\n                  </span>\n                  {normalizedItem.metadata.resolution && (\n                    <span className=\"bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs\">\n                      {normalizedItem.metadata.resolution}\n                    </span>\n                  )}\n                </div>\n                {normalizedItem.metadata.id && (\n                  <p className=\"text-xs text-gray-500\">ID: {normalizedItem.metadata.id}</p>\n                )}\n              </div>\n            </div>\n\n            {/* AI Analysis (if available) */}\n            {normalizedItem.analysis && (\n              <div>\n                <h3 className=\"font-semibold mb-2\">AI 분석 / AI Analysis</h3>\n                <p className=\"text-gray-700 mb-2 text-sm\">{normalizedItem.analysis.description}</p>\n                {normalizedItem.analysis.tags && (\n                  <div className=\"flex flex-wrap gap-2 mb-2\">\n                    {normalizedItem.analysis.tags.map((tag, index) => (\n                      <span\n                        key={index}\n                        className=\"text-xs bg-blue-600 text-white px-2 py-1 rounded\"\n                      >\n                        {tag}\n                      </span>\n                    ))}\n                  </div>\n                )}\n                {normalizedItem.analysis.weatherCondition && (\n                  <p className=\"text-sm text-gray-600\">\n                    날씨: {normalizedItem.analysis.weatherCondition}\n                  </p>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/* Footer info */}\n          <div className=\"pt-3 border-t border-gray-200\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-sm text-gray-500\">\n              <span>\n                마지막 업데이트: {normalizedItem.lastUpdated ? new Date(normalizedItem.lastUpdated).toLocaleString('ko-KR') : 'Unknown'}\n              </span>\n              {hasNavigation && (\n                <span className=\"text-xs\">\n                  키보드: ← → (탐색), ESC (닫기), Z (확대)\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nWebcamModal.propTypes = {\n  item: PropTypes.object.isRequired,\n  items: PropTypes.array,\n  currentIndex: PropTypes.number,\n  onClose: PropTypes.func.isRequired,\n  onNavigate: PropTypes.func,\n  type: PropTypes.oneOf(['webcam', 'traffic', 'auto']),\n};\n\nWebcamModal.defaultProps = {\n  items: [],\n  currentIndex: 0,\n  onNavigate: null,\n  type: 'auto',\n};\n\nexport default WebcamModal;"],"names":["WebcamModal","item","items","currentIndex","onClose","onNavigate","type","isZoomed","setIsZoomed","useState","imageLoading","setImageLoading","imageError","setImageError","touchDevice","setTouchDevice","modalRef","useRef","imageRef","useEffect","itemType","normalizedItem","basePath","imageUrl","hasNavigation","handleKeyDown","e","prev","handleBackdropClick","useCallback","handleImageLoad","handleImageError","handleImageClick","handleTouchStart","jsx","jsxs","tag","index","PropTypes"],"mappings":"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"}