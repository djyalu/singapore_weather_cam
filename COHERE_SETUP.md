# 🤖 Cohere AI 실시간 날씨 분석 설정 가이드

Singapore Weather Cam에서 실제 AI 분석 기능을 사용하기 위한 설정 방법입니다.

## 📋 사전 준비

### 1. Cohere API 키 발급
1. [Cohere Dashboard](https://dashboard.cohere.ai/) 방문
2. 회원가입 또는 로그인
3. "API Keys" 섹션에서 새 API 키 생성
4. 키를 안전하게 복사해둡니다

### 2. 환경변수 설정

프로젝트 루트에 `.env.local` 파일을 생성하고 다음을 추가합니다:

```bash
# Cohere API Key for real-time weather analysis
VITE_COHERE_API_KEY=your_actual_cohere_api_key_here
```

**중요**: 
- `VITE_` 접두사가 필요합니다 (Vite 환경변수 규칙)
- `.env.local` 파일은 Git에 커밋하지 마세요 (이미 .gitignore에 포함됨)

## 🚀 사용법

### 1. 개발 서버 실행
```bash
npm run dev
```

### 2. AI 분석 실행
1. 웹사이트 상단의 Singapore Weather 섹션으로 이동
2. 오른쪽 "AI 분석" 열에서 보라색 "⚡ 실행" 버튼 클릭
3. 몇 초 후 Cohere AI의 실시간 날씨 분석 결과가 표시됩니다

## ✨ 기능 특징

### 🧠 실제 AI 분석
- **Cohere Command-Light** 모델 사용
- 실시간 싱가포르 날씨 데이터 기반 분석
- 한국어로 친근하고 실용적인 인사이트 제공

### 📊 분석 내용
1. **현재 날씨 상황** - 온도, 습도, 강수량 종합 평가
2. **주의사항/추천사항** - 실생활에 도움되는 조언
3. **향후 몇 시간 예상** - 날씨 변화 트렌드 예측

### 🎨 UI/UX
- **로컬 분석 vs AI 분석** 명확한 구분
- **실시간 로딩** 상태 표시
- **결과 비교** 가능한 토글 기능
- **타임스탬프** 및 신뢰도 표시

## 🔧 기술 세부사항

### API 요청 파라미터
```javascript
{
  model: 'command-light',        // 빠른 응답을 위한 경량 모델
  max_tokens: 150,              // 적절한 분석 길이
  temperature: 0.3,             // 일관된 분석 결과
  return_likelihoods: 'NONE'    // 성능 최적화
}
```

### 프롬프트 구조
- 싱가포르 날씨 전문가 역할 설정
- 실시간 기상 데이터 제공 (온도, 습도, 강수량, 지역별 데이터)
- 구조화된 응답 형식 요청
- 한국어 친근한 톤앤매너 지정

### 오류 처리
- API 키 미설정 시 친절한 안내 메시지
- 네트워크 오류 시 구체적인 에러 표시
- 로딩 상태 및 재시도 기능

## 💡 팁

### 성능 최적화
- API 호출은 사용자 요청 시에만 실행 (자동 실행 안함)
- 결과 캐싱으로 불필요한 중복 호출 방지
- 경량 모델 사용으로 빠른 응답 속도

### 비용 관리
- Cohere 무료 티어: 월 100회 호출 가능
- Command-Light 모델: 저렴한 토큰 비용
- 온디맨드 실행으로 불필요한 비용 방지

## ❓ 문제 해결

### "API 미설정" 표시
- `.env.local` 파일이 있는지 확인
- `VITE_COHERE_API_KEY` 키명이 정확한지 확인  
- 개발 서버 재시작 (`npm run dev`)

### "AI 분석 실패" 오류
- 인터넷 연결 상태 확인
- API 키가 유효한지 Cohere Dashboard에서 확인
- API 호출 한도 초과 여부 확인

### 분석 결과가 표시되지 않음
- 브라우저 개발자 도구 콘솔에서 오류 메시지 확인
- 날씨 데이터가 먼저 로드되었는지 확인

## 🎯 결과 예시

**로컬 분석 (기존)**:
```
현재 따뜻함 29.6°C, 습도 높음
• 쾌적함
```

**Cohere AI 분석 (새 기능)**:
```
🤖 Cohere AI 실시간 분석

현재 싱가포르는 따뜻하고 습한 전형적인 열대기후를 보이고 있습니다. 
29.6°C의 온도에 높은 습도가 더해져 체감온도가 높을 수 있습니다.

야외 활동 시 충분한 수분 섭취와 가벼운 옷차림을 권장합니다.

향후 몇 시간은 비슷한 날씨가 지속될 것으로 예상되며, 
저녁 시간대에는 소나기 가능성을 염두에 두시기 바랍니다.

✨ Cohere Command-Light • 신뢰도 95% • 14:23:45
```

## 🔒 보안 참고사항

- API 키는 절대 GitHub에 커밋하지 마세요
- `.env.local` 파일은 로컬 개발용으로만 사용
- 프로덕션 배포 시 환경변수는 호스팅 플랫폼에서 설정

---

**🎉 설정 완료!** 이제 실제 AI 기반 날씨 분석을 경험해보세요!